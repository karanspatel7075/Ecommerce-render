<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{base::Layout(~{::section})}" >
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<section>
  <div class="container my-5">
    <h2 class="text-center mb-4">My Orders</h2>

<!--    <th:block th:if="${session.Success}">-->
<!--      <p class="text-success fw-bold">[[${session.Success}]]</p>-->
<!--      <th:block th:text="${@commonServiceImple.removeSessionMessage()}"></th:block>-->
<!--    </th:block>-->

<!--    <th:block th:if="${session.errorMsg}">-->
<!--      <p class="text-success fw-bold">[[${session.errorMsg}]]</p>-->
<!--      <th:block th:text="${@commonServiceImple.removeSessionMessage()}"></th:block>-->
<!--    </th:block>-->

    <div class="table-responsive">
      <table class="table table-bordered table-striped table-hover">
        <thead class="table-dark">
        <tr>
          <th>Order ID</th>
          <th>Date</th>
          <th>Product Details</th>>
          <th>Price</th>
          <th>Action</th>
          <th>Status</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="o : ${getOrders}">
          <td>[[${o.orderId}]]</td>
          <td>[[${o.orderDate}]]</td>
          <td>[[${o.product.title}]]</td>
          <td>Quantity : [[${o.quantity}]] <br>Price : [[${o.price}]]</td>
          <td><a th:href="@{/user/cancelOrder(orderId=${o.id})}" class="btn btn-danger btn-sm"
                 onclick="if(!(confirm('Are you sure to remove the task?'))) return false">Cancel</a></td>
          <td><span class="badge bg-info text-dark">[[${o.status}]]</span></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap Bundle JS (includes Popper.js) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</section>

</body>
